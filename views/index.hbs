{{#if expenses}}
  <div class="divBtnRegistrar">
    <h2>Histórico de Despesas:</h2>
    <div>
      <a
        class="btn btn-secondary"
        data-bs-toggle="offcanvas"
        href="#offcanvasExample"
        role="button"
        aria-controls="offcanvasExample"
      >
        <i class="bi bi-filter"></i>
        Filtrar
      </a>
      <a href="/despesas/registrar" class="btn btn-secondary">
        Nova Despesa
      </a>
    </div>
  </div>
  <div>
    {{#each expenses}}
      <div class="container divExpenses">
        <div class="row mb-3 expenseRow">
          <div class="col-md-8">
            <div class="expensesValues">
              {{#if this.ctgFood}}
                <span class="badge food">
                  <i class="bi bi-cup-straw"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgSubscriptions}}
                <span class="badge subscriptions">
                  <i class="bi bi-display"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgStudies}}
                <span class="badge studies">
                  <i class="bi bi-journal-bookmark"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgLeisure}}
                <span class="badge leisure">
                  <i class="bi bi-dribbble"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgMarket}}
                <span class="badge market">
                  <i class="bi bi-cart4"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgOther}}
                <span class="badge other">
                  <i class="bi bi-boxes"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgHealth}}
                <span class="badge health">
                  <i class="bi bi-capsule-pill"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgTransport}}
                <span class="badge transport">
                  <i class="bi bi-bus-front"></i>
                  {{this.category}}
                </span>
              {{/if}}
              {{#if this.ctgClothing}}
                <span class="badge clothing">
                  <i class="bi bi-bag"></i>
                  {{this.category}}
                </span>
              {{/if}}
              <p class="expenseValueList">R$-{{this.value}}</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="expensesOperations">
              <a class="btnIconOp" href="/despesas/consultar/{{this._id}}">
                <i class="bi bi-arrow-up-right-circle"></i>
              </a>
              <a class="btnIconOp" href="/despesas/alterar/{{this._id}}">
                <i class="bi bi-slash-circle"></i>
              </a>
              <a class="btnIconOp" href="/despesas/arquivar/{{this._id}}">
                <i class="bi bi-arrow-down-circle"></i>
              </a>
              <a class="btnIconOp" href="/despesas/excluir/{{this._id}}">
                <i class="bi bi-x-circle"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
{{else}}
  <div>
    <h2>Ainda não há despesas registradas.</h2>
    <a href="/despesas/registrar">
      <button class="btn btn-secondary">
        Nova Despesa
      </button>
    </a>
  </div>
{{/if}}

<div
  class="offcanvas offcanvas-start"
  tabindex="-1"
  id="offcanvasExample"
  aria-labelledby="offcanvasExampleLabel"
>
  <div class="offcanvas-header">
    <h2 class="offcanvas-title" id="offcanvasExampleLabel">Filtrar por</h2>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
      aria-label="Close"
    ></button>
  </div>
  <div class="offcanvas-body">
    <form action="/despesas/filtrar" method="POST">
      <div>
        <label for="filtroCategoria" class="form-label">Categoria:</label>
      </div>
      <div>
        <select name="categoryFilter" class="form-select" id="filtroCategoria">
          <option value="Todas" selected>Todas</option>
          <option value="Alimentação">Alimentação</option>
          <option value="Assinaturas">Assinaturas</option>
          <option value="Estudos">Estudos</option>
          <option value="Lazer">Lazer</option>
          <option value="Mercado">Mercado</option>
          <option value="Outros">Outros</option>
          <option value="Saúde">Saúde</option>
          <option value="Transporte">Transporte</option>
          <option value="Vestuário">Vestuário</option>
        </select>
      </div>
      <div>
        <label for="filtroFormaPagamento" class="form-label">Forma de Pagamento:
        </label>
      </div>
      <div>
        <select
          class="form-select"
          id="filtroFormaPagamento"
          name="paymentFormFilter"
        >
          <option value="Todas" selected>Todas</option>
          <option value="Crédito">Crédito</option>
          <option value="Débito">Débito</option>
          <option value="Dinheiro">Dinheiro</option>
          <option value="PIX">PIX</option>
        </select>
      </div>
      <div>
        <button type="submit" class="btn btn-secondary">Aplicar</button>
      </div>
    </form>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () { var
  tooltipTriggerList =
  [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  tooltipTriggerList.forEach(function (tooltipTriggerEl) { new
  bootstrap.Tooltip(tooltipTriggerEl); }); });
</script>